version: '2'

services:
    db:
       extends:
         file: composer/third-party/backbone.yml
         service: db
    es:
       extends:
         file: composer/third-party/backbone.yml
         service: es
    mongo:
       extends:
         file: composer/third-party/backbone.yml
         service: mongo
    swift:
       extends:
         file: composer/third-party/backbone.yml
         service: swift

    authservice:
       extends:
         file: composer/third-party/ck-services.yml
         service: authservice
         links:
          - db
         depends_on:
          - db
    knowledgecenter:
       extends:
         file: composer/third-party/ck-services.yml
         service: knowledgecenter
         links:
           - mongo
         depends_on:
           - mongo
    userpi:
       extends:
         file: composer/third-party/ck-services.yml
         service: userpi
         links:
           - mongo
           - swift
         depends_on:
           - mongo
           - swift



