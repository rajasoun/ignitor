
# MariaDB

MariaDB running inside Docker container using Alpine Linux with S6 Overlay init system.

* Free software: MIT license
* Documentation: https://github.com/daspanel/mariadb

## Daspanel environment variables
| Variable | Optional      | Example Value | Purpose
|----------|---------------|---------------|---------------|
| DASPANEL_GUUID | yes | ksdf09832klsdfkjsdlk | UUID used in Daspanel system to identify a unique instance of data. If you don't provide one Daspanel generate it using [Getuuid API](https://9jzojg54n7.execute-api.us-east-1.amazonaws.com/v1/uuid)|
| DASPANEL_MASTER_PASSWORD | yes | SomeGood#%@Passwd123 | Password to be used in the various Daspanel services. Automatically generated if you do not provide one.
| DASPANEL_MASTER_EMAIL | no | your@email.com | Email of the owner of Daspanel instance. It can be used for receiving notifications from the system. The Docker container will not run if it is not informed.

You can find the value of variables automatically generated by examining the 
container log after it starts. Or looking at the output of the console where 
you run your docker.

## This container-only environment variables
```bash
ENV MARIADB_ROOT_PASSWORD # Optional, container use DASPANEL_MASTER_PASSWORD if not provided
ENV MARIADB_DEFAULT_CHARACTER_SET utf8
ENV MARIADB_CHARACTER_SET_SERVER utf8
ENV MARIADB_COLLATION_SERVER utf8_general_ci
ENV MARIADB_KEY_BUFFER_SIZE 16M
ENV MARIADB_MAX_ALLOWED_PACKET 1M
ENV MARIADB_TABLE_OPEN_CACHE 64
ENV MARIADB_SORT_BUFFER_SIZE 512K
ENV MARIADB_NET_BUFFER_SIZE 8K
ENV MARIADB_READ_BUFFER_SIZE 256K
ENV MARIADB_READ_RND_BUFFER_SIZE 512K
ENV MARIADB_MYISAM_SORT_BUFFER_SIZE 8M
ENV MARIADB_LOG_BIN mysql-bin
ENV MARIADB_BINLOG_FORMAT mixed
ENV MARIADB_SERVER_ID 1
ENV MARIADB_INNODB_DATA_FILE_PATH ibdata1:10M:autoextend
ENV MARIADB_INNODB_BUFFER_POOL_SIZE 16M
ENV MARIADB_INNODB_LOG_FILE_SIZE 5M
ENV MARIADB_INNODB_LOG_BUFFER_SIZE 8M
ENV MARIADB_INNODB_FLUSH_LOG_AT_TRX_COMMIT 1
ENV MARIADB_INNODB_LOCK_WAIT_TIMEOUT 50
ENV MARIADB_MAX_ALLOWED_PACKET 16M
ENV MARIADB_KEY_BUFFER_SIZE 20M
ENV MARIADB_SORT_BUFFER_SIZE 20M
ENV MARIADB_READ_BUFFER 2M
ENV MARIADB_WRITE_BUFFER 2M
```
see `rootfs/etc/cont-init.d/70-mariadb` for more info

## Ports
* 3306

## How to use
Get
```shell
docker pull daspanel/mariadb:latest
```

Run
```shell
docker run -e DASPANEL_MASTER_EMAIL=my@email.com daspanel/mariadb:latest
```

Run with interactive shell 
```shell
docker run -it -e DASPANEL_MASTER_EMAIL=my@email.com daspanel/mariadb:latest /bin/sh
```

## Features

* Latest Alpine Linux with S6 overlay
* MariaDB server and client

!!! warning "WIP"
    Wordk in progress.

## Credits

* This project was auto created with <https://github.com/daspanel/cookiecutter-docker>
* [Mkdocs](http://www.mkdocs.org/)
* [CHANGELOG.md Generator](https://github.com/mh-cbon/changelog)
* [Templater](https://github.com/webhippie/templater)
* [Jq](https://stedolan.github.io/jq/)

